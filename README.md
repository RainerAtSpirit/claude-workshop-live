# claude-workshop-live

A collection of TypeScript agents and utilities for enhancing Claude Code CLI functionality with custom configurations, MCP integrations, and specialized workflows.

## Prerequisites

### Install Bun

This project requires [Bun](https://bun.sh), a fast all-in-one JavaScript runtime. Install it using:

```bash
# macOS/Linux
curl -fsSL https://bun.sh/install | bash

# Windows (via PowerShell)
powershell -c "irm bun.sh/install.ps1 | iex"

# Or via npm/yarn if you have Node.js
npm install -g bun
```

### Install Claude CLI

Make sure you have the Claude CLI installed:

```bash
npm install -g @anthropic-ai/claude-code
```

## Quick Start

1. **Clone the repository:**
```bash
git clone https://github.com/johnlindquist/claude-workshop-live.git
cd claude-workshop-live
```

2. **Install dependencies:**
```bash
bun install
```

3. **Build all agents:**
```bash
bun run watch  # Watches and auto-compiles all agents
# OR
bun compile agents/designer.ts  # Compile a specific agent
```

## Setting Up Agents as Global Commands

This project compiles TypeScript agents into standalone binaries that can be used as global commands. Here's how to set up the `designer` agent (or any other agent) as a global command:

### Method 1: Using `bun watch` (Recommended for Development)

The `bun watch` command automatically compiles all agents in the `agents/` directory and watches for changes:

```bash
# Start the watcher (compiles all agents and watches for changes)
bun run watch
```

This will:
- Compile all TypeScript files in `agents/` to binaries in `bin/`
- Watch for changes in `agents/` and `prompts/` directories
- Automatically recompile when files change
- Remove binaries when source files are deleted

### Method 2: Manual Compilation

Compile individual agents as needed:

```bash
# Compile a specific agent
bun compile agents/designer.ts

# The binary will be created at ./bin/designer
```

### Making Agents Globally Available

After compilation, add the `bin` directory to your PATH to use agents as global commands:

```bash
# Add to your shell profile (~/.bashrc, ~/.zshrc, ~/.bash_profile, etc.)
export PATH="$PATH:/path/to/claude-workshop-live/bin"

# Reload your shell configuration
source ~/.zshrc  # or ~/.bashrc, depending on your shell

# Now you can use agents as commands from anywhere
designer "Create a responsive landing page"
contain "Analyze this codebase"
planner "Help me plan a new feature"
```

### How the Designer Agent Works

The designer agent is a specialized Claude CLI launcher that:

1. **Loads custom configurations:** Reads settings from `settings/designer.settings.json` and MCP config from `settings/designer.mcp.json`
2. **Applies system prompts:** Includes a design-focused system prompt from `system-prompts/designer-prompt.md`
3. **Enables MCP tools:** Integrates with Figma and Playwright for design workflows
4. **Passes through arguments:** Any arguments you provide are passed to Claude

Example usage:
```bash
# After adding bin/ to PATH
designer "Create a card component with hover effects"

# Or run directly from the project
./bin/designer "Help me design a navigation menu"

# Or use bun to run the TypeScript directly
bun run agents/designer.ts "Design a color palette for a tech startup"
```

## Project Structure

- `agents/` - TypeScript agents that spawn Claude CLI with custom configs
- `bin/` - Compiled standalone binaries (generated by build/watch)
- `settings/` - JSON configuration files for agents
- `system-prompts/` - System prompts for specialized behaviors
- `prompts/` - Markdown prompt templates
- `hooks/` - Scripts that run in response to Claude events
- `lib/` - Core utilities for Claude CLI interaction
- `scripts/` - Build and development utilities

## Available Agents

Each agent is a specialized Claude instance with custom configurations:

- **designer** - Design mode with Figma/Playwright integrations
- **contain** - Isolated environment with custom settings
- **planner** - Strategic planning mode
- **builder** - Interactive building workflows
- **chain** - Chain multiple Claude instances
- **parallel** - Run parallel operations
- **gemsum** - Gemini-powered summarization
- **claude-mix** - Mixed capabilities mode
- **orient** - Generates a comprehensive orientation map (markdown) for a concept, feature, or file

## Development Commands

```bash
# Watch and auto-compile all agents
bun run watch

# Compile a specific agent
bun compile agents/[agent-name].ts

# Format and lint code
bun run lint

# Run type checking
bun run check

# Run the main entry point
bun run index.ts
```

## Creating Your Own Agent

1. Create a new TypeScript file in `agents/`:
```typescript
// agents/my-agent.ts
import { spawn } from "bun";

const child = spawn(["claude", "--model", "claude-3-opus", ...args], {
    stdin: "inherit",
    stdout: "inherit",
    stderr: "inherit",
});

await child.exited;
```

2. Create corresponding settings files (optional):
- `settings/my-agent.settings.json` - Claude settings
- `settings/my-agent.mcp.json` - MCP tool configurations

3. Compile your agent:
```bash
bun compile agents/my-agent.ts
# Creates ./bin/my-agent
```

4. Use your agent:
```bash
./bin/my-agent "Your prompt here"
```

## Tips

- The watch script monitors both `agents/` and `prompts/` directories
- Changes to prompts trigger a full rebuild since they're imported at compile time
- Binaries are self-contained and include all dependencies
- Each agent can have its own MCP tools, settings, and system prompts
- Use environment variables like `CLAUDE_PROJECT_DIR` to pass context to agents

This project was created using `bun init` in bun v1.2.9.

## Orient Agent

Generate an orientation map that traces files, dependencies, dependents, functions, event flow hints, and tests around a concept or file.

Usage:

```bash
# Analyze a concept/keyword
bun run agents/orient.ts "authentication"

# Analyze a specific file
bun run agents/orient.ts src/utils/loader.ts

# Options
bun run agents/orient.ts router --out-dir ./orientations --max-files 0 --ext ts,tsx,js,jsx,json,md --debug
```

Output:
- Creates a markdown file in `./orientations/` named like `authentication-YYYYMMDD-HHMMSS.md`.
- Sections include: Overview, Files Referencing, Dependencies/Dependents (if file target), Functions Near Topic, Event Flow Hints, Tests Touching Topic, and Next Steps.
